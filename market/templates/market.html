{% extends "base.html" %}

{% block title %}
Market Page
{% endblock %}


{% block content %}

<div class = "row" style = "margin-left:5px; margin-top: 5px">
<div class = "col-7">
  <h2>Available Items on the market</h2>
  <p>Click on one of the items to buy</p>
  <br>
  <table class="table table-dark">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Barcode</th>
      <th scope="col">Price</th>
      <th scope="col">Options</th>
    </tr>
  </thead>
  <tbody>
  {% for item in items %}
  {% include "includes/items_modals.html" %}
    <tr>

      <td>{{ item.id }}</td>
      <td>{{ item.name }}</td>
      <td>{{ item.barcode }}</td>
      <td>{{ item.price }}$</td>

      <td><button class = 'btn btn-outline btn-info' data-toggle="modal" data-target="#MoreInfo-{{ item.id }}">More Information</button>
       <button class = 'btn btn-outline btn-success' data-toggle="modal" data-target="#Purchase-{{ item.id }}">Purchase this item</button>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
  </div>
  <div class = "col-4">
    <h2>Owned Items</h2>
    <p>Click on one of the items to sell</p>
    <br>
    <table class="table table-dark">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Barcode</th>
      <th scope="col">Price</th>
      <th scope="col">Options</th>
    </tr>
  </thead>
  <tbody>
  {% for item in purchased_items %}
  {% include "includes/owned_items_modals.html" %}
    <tr>

      <td>{{ item.id }}</td>
      <td>{{ item.name }}</td>
      <td>{{ item.barcode }}</td>
      <td>{{ item.price }}$</td>

      <td><button class = 'btn btn-outline btn-info' data-toggle="modal" data-target="#Sell-{{ item.id }}">Sell</button>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
  </div>
  </div>
{% endblock %}